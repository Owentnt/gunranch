<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" media="all"
          th:href="@{/css/gunranch.css}" href="/css/gunranch.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <meta charset="UTF-8">
    <title>Your Profile</title>
</head>
<div th:insert="~{fragments/header :: header}">Header</div>

<body>
<div class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card border-warning bg-dark text-warning">
                <div class="card-body">
                    <div th:if="${user != null}">
                        <div class="card-header">
                            <h1 th:text="${user.username} + ' profile '" class="text-warning text-center"></h1>
                        </div>
                        <div class="text-center">
                            <img th:src="${user.image != null ? user.image : (user.gender == 'M' ? '/images/male%20icon.jpg' : '/images/anonymous-female-icon-12.jpg')}"
                                 class="img-fluid rounded-circle" style="width: 150px;">
                        </div>
                        <h6 th:text="'Name: ' + ${user.firstName} + ' ' + ${user.lastName}"></h6>
                        <h6 th:text="'Gender: ' + ${user.gender}"></h6>
                        <h6>Contact Info:</h6>
                        <p th:text="'Email: ' + ${user.emailAddress}"></p>
                        <p th:text="'Phone: ' + ${user.phoneNumber}"></p>
                        <h6>Address:</h6>
                        <p th:text="'Street: ' + ${user.address}"></p>
                        <p th:text="'Postal Code: ' + ${user.postalCode}"></p>
                        <p th:text="'City: ' + ${user.city}"></p>
                        <h6 th:text="'SsId  : ' + ${user.ssId}"></h6>
                        <div th:if="${user.aboutMe != null}">
                            <h6 th:text="'Bio : ' + ${user.aboutMe}"></h6>
                        </div>
                        <div>
                            <a class="btn btn-outline-warning" th:href="@{|/registration/${user.username}|}">Edit Profile</a>
                            <a class="btn btn-outline-warning" th:href="@{/reservationdetails}">Check Reservations</a>
                            <a href="/logout" class="btn btn-outline-warning">Logout</a>
                        </div>
                        <div th:insert="~{fragments/footer :: footer}">Footer</div>
                    </div>
                    <div th:if="${user == null}">
                        <div class="text-center text-warning">
                            <h3>You are not logged in</h3>
                            <h5>Log in to your account or registrate yourself if you dont have one.</h5>
                        </div>
                        <a class="btn btn-outline-warning justify-content-center"
                           th:href="@{/registration}">Register</a>
                        <a th:href="@{/login}" class="btn btn-outline-warning">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>